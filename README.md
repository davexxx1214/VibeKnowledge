# VibeKnowledge - VS Code çŸ¥è¯†å›¾è°±æ’ä»¶

> å°†ä½ çš„ä»£ç åº“è½¬åŒ–ä¸ºæ™ºèƒ½çŸ¥è¯†ç½‘ç»œï¼Œè®© AI ç¼–ç¨‹æ›´é«˜æ•ˆ

ä¸€ä¸ªåŸºäºçŸ¥è¯†å›¾è°±å’Œ SQLite çš„ VS Code æ’ä»¶ï¼Œå¸®åŠ©å¼€å‘è€…ç†è§£å’Œç®¡ç†ä»£ç åº“ä¸­çš„å¤æ‚å…³ç³»ï¼ŒåŒæ—¶ä¸º AI ç¼–ç¨‹æä¾›æŒä¹…åŒ–çš„é¡¹ç›®ä¸Šä¸‹æ–‡ã€‚

| äº§å“é€Ÿè§ˆ | åŠŸèƒ½äº®ç‚¹ |
| --- | --- |
| ![å°é¢ï¼šå°†ä»£ç åº“è½¬åŒ–ä¸ºæ™ºèƒ½çŸ¥è¯†ç½‘ç»œ](presentation/blue/1.png) | ![ç‰¹æ€§æ¦‚è§ˆï¼šçŸ¥è¯†å›¾è°± + AI åä½œ + RAG çŸ¥è¯†åº“](presentation/blue/2.png) |
| ![å‘½ä»¤é¢æ¿ä¸ VS Code æ·±åº¦é›†æˆ](presentation/blue/10.png) | ![MCP Serviceï¼šç‹¬ç«‹éƒ¨ç½² + åè®® + æ•°æ®å¤ç”¨](presentation/blue/11.png) |

## ğŸ“‹ ç›®å½•

- [æ ¸å¿ƒç†å¿µ](#æ ¸å¿ƒç†å¿µ)
- [å½“å‰çŠ¶æ€](#å½“å‰çŠ¶æ€)
  - [å›½é™…åŒ–æ”¯æŒ](#å›½é™…åŒ–æ”¯æŒè¿›è¡Œä¸­)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [æ ¸å¿ƒåŠŸèƒ½](#æ ¸å¿ƒåŠŸèƒ½)
- [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
- [æ¼”ç¤ºæ–‡æ¡£](#æ¼”ç¤ºæ–‡æ¡£)

---

## ğŸ¯ æ ¸å¿ƒç†å¿µ

VibeKnowledge å°† VS Code å·¥ä½œåŒºæœ¬èº«å˜æˆä¸€ä¸ª**æ™ºèƒ½çŸ¥è¯†å›¾è°±**ï¼Œé€šè¿‡ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µæ„å»ºé¡¹ç›®çŸ¥è¯†ï¼š

### 1. å®ä½“ (Entities)
ä»£ç åº“ä¸­çš„å„ç§å…ƒç´ ï¼Œå…·æœ‰ç²¾ç¡®çš„ä»£ç ä½ç½®ï¼š
- ä»£ç å…ƒç´ ï¼šFunctionã€Classã€Interfaceã€Variable
- æ–‡ä»¶ç³»ç»Ÿï¼šFileã€Directory
- ä¸šåŠ¡æ¦‚å¿µï¼šAPIã€Serviceã€Componentã€Database

### 2. å…³ç³» (Relations)
å®ä½“ä¹‹é—´çš„è¿æ¥ï¼š
- `uses` - ä½¿ç”¨å…³ç³»
- `calls` - è°ƒç”¨å…³ç³»
- `extends` - ç»§æ‰¿å…³ç³»
- `implements` - å®ç°å…³ç³»
- `depends_on` - ä¾èµ–å…³ç³»

### 3. è§‚å¯Ÿè®°å½• (Observations)
å…³äºå®ä½“çš„ç¬”è®°å’Œæ³¨é‡Šï¼Œè¿™æ˜¯çŸ¥è¯†å›¾è°±çš„æ ¸å¿ƒä»·å€¼ï¼š
- æ€§èƒ½è­¦å‘Šå’Œä¼˜åŒ–å»ºè®®
- è®¾è®¡å†³ç­–è¯´æ˜
- Bug è®°å½•å’Œä¿®å¤å†å²
- é‡æ„å¾…åŠäº‹é¡¹
- å›¢é˜Ÿåä½œç¬”è®°

**æ ¸å¿ƒä»·å€¼**ï¼š
- ğŸ§  **ä»£ç ç†è§£åŠ©æ‰‹** - å¯è§†åŒ–ä»£ç å…³ç³»ï¼Œå¿«é€Ÿç†è§£å¤æ‚ç³»ç»Ÿ
- ğŸ“ **é¡¹ç›®è®°å¿†ç³»ç»Ÿ** - æŒä¹…åŒ–ä¿å­˜è®¾è®¡å†³ç­–ã€é‡æ„ç¬”è®°ã€æ€§èƒ½è­¦å‘Š
- ğŸ¤– **AI ç¼–ç¨‹åŠ é€Ÿå™¨** - æ·±åº¦é›†æˆ Cursor å’Œ GitHub Copilotï¼Œä¸º AI æä¾›é¡¹ç›®ä¸Šä¸‹æ–‡
- ğŸ‘¥ **å›¢é˜ŸçŸ¥è¯†å…±äº«** - çŸ¥è¯†å›¾è°±å¯è¢« Git è¿½è¸ªï¼Œå›¢é˜Ÿåä½œæ›´é¡ºç•…

---

## âœ… å½“å‰çŠ¶æ€

**é¡¹ç›®å·²å®Œæˆæ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ï¼** ğŸ‰

VibeKnowledge æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ VS Code çŸ¥è¯†å›¾è°±æ’ä»¶ï¼ŒåŒ…å«å››å¤§æ ¸å¿ƒæ¨¡å—ï¼š

### 1ï¸âƒ£ çŸ¥è¯†å›¾è°±ç®¡ç†ï¼ˆæ‰‹åŠ¨ï¼‰
- âœ… å®ä½“ã€å…³ç³»ã€è§‚å¯Ÿè®°å½•çš„å®Œæ•´ CRUD
- âœ… SQLite æœ¬åœ°æŒä¹…åŒ–å­˜å‚¨
- âœ… äº¤äº’å¼å¯è§†åŒ–å›¾è°±ï¼ˆD3.jsï¼‰
- âœ… å®Œæ•´çš„ VS Code UI é›†æˆ

### 2ï¸âƒ£ è‡ªåŠ¨å›¾è°±ç”Ÿæˆ ğŸ†•
- âœ… **é™æ€ä»£ç åˆ†æ**ï¼šåŸºäº TypeScript/JavaScript æ­£åˆ™è§£æï¼Œæ— éœ€ AI
- âœ… **è‡ªåŠ¨æå–å®ä½“**ï¼šClassã€Interfaceã€Functionã€Variable
- âœ… **è‡ªåŠ¨è¯†åˆ«å…³ç³»**ï¼šextendsã€implementsã€usesã€imports
- âœ… **ä¾èµ–æ³¨å…¥æ£€æµ‹**ï¼šæ„é€ å‡½æ•°å‚æ•°ã€@Inject è£…é¥°å™¨ã€æˆå‘˜å˜é‡ç±»å‹
- âœ… **æ–¹æ³•ç­¾ååˆ†æ**ï¼šè¿”å›ç±»å‹ã€å‚æ•°ç±»å‹ã€æ³›å‹å‚æ•°
- âœ… **æ¥å£å±æ€§åˆ†æ**ï¼šæ¥å£å†…å±æ€§ç±»å‹ä¾èµ–
- âœ… **å‡½æ•°å†…éƒ¨ä¾èµ–**ï¼šæ£€æµ‹å‡½æ•°ä½“å†…çš„ç±»å®ä¾‹åŒ–ã€é™æ€æ–¹æ³•è°ƒç”¨
- âœ… **NestJS è£…é¥°å™¨**ï¼š@Module è£…é¥°å™¨çš„ imports/controllers/providers åˆ†æ
- âœ… **TypeORM å…³ç³»**ï¼š@ManyToOne/@OneToMany ç­‰è£…é¥°å™¨çš„å®ä½“å¼•ç”¨
- âœ… **è§‚å¯Ÿè®°å½•æ”¯æŒ**ï¼šè‡ªåŠ¨å›¾è°±å®ä½“ä¹Ÿå¯æ·»åŠ è§‚å¯Ÿè®°å½•ï¼Œé‡æ–°åˆ†ææ—¶ä¿ç•™
- âœ… **åŒå›¾è°±æ¶æ„**ï¼šæ‰‹åŠ¨å›¾è°±ä¸è‡ªåŠ¨å›¾è°±å®Œå…¨éš”ç¦»ï¼Œäº’ä¸å¹²æ‰°
- âœ… **è§†å›¾åˆ‡æ¢**ï¼šä¸€é”®åˆ‡æ¢æ‰‹åŠ¨å›¾è°± / è‡ªåŠ¨å›¾è°± / åˆå¹¶è§†å›¾
- âœ… **å¢é‡æ›´æ–°**ï¼šé‡æ–°åˆ†ææ—¶æ™ºèƒ½å¯¹æ¯”æ–°æ—§å®ä½“ï¼Œè‡ªåŠ¨ä¿ç•™æœªå˜æ›´å®ä½“çš„è§‚å¯Ÿè®°å½•

### 3ï¸âƒ£ AI ååŒåŠŸèƒ½
- âœ… Cursor å’Œ GitHub Copilot æ·±åº¦é›†æˆ
- âœ… **å›¾è°±æºé€‰æ‹©**ï¼šç”Ÿæˆé…ç½®æ—¶å¯é€‰æ‰‹åŠ¨/è‡ªåŠ¨/åˆå¹¶å›¾è°± ğŸ†•
- âœ… çŸ¥è¯†å›¾è°±å¯¼å‡ºï¼ˆMarkdown / JSONï¼‰
- âœ… ä¾èµ–é“¾åˆ†æå’Œå¾ªç¯ä¾èµ–æ£€æµ‹
- âœ… æŠ€æœ¯æ ˆè‡ªåŠ¨æ£€æµ‹ï¼ˆJS/TS é¡¹ç›®ï¼‰
- âœ… å¿«é€Ÿä¸Šä¸‹æ–‡å¯¼å‡º

### 4ï¸âƒ£ æŒä¹…çŸ¥è¯†åº“ï¼ˆRAGï¼‰
- âœ… Google Gemini File Search äº‘ç«¯æ‰˜ç®¡
- âœ… è‡ªåŠ¨ç´¢å¼•æ–‡æ¡£åˆ°äº‘ç«¯ï¼ˆå¢é‡ï¼‰
- âœ… æ™ºèƒ½é—®ç­”ï¼ˆAsk Questionï¼‰
- âœ… å¤šæ ¼å¼æ”¯æŒï¼ˆ100+ ç§æ ¼å¼ï¼‰
- âœ… é¡¹ç›®å®Œå…¨éš”ç¦»

**ä»£ç é‡**ï¼šçº¦ 5000+ è¡Œ TypeScript

### ğŸŒ å›½é™…åŒ–æ”¯æŒï¼ˆå·²å®Œæˆï¼‰âœ¨

VibeKnowledge å·²å®Œæˆå®Œæ•´çš„å¤šè¯­è¨€æ”¯æŒç³»ç»Ÿï¼š

- âœ… **è¯­è¨€åˆ‡æ¢æ¡†æ¶**ï¼šå®Œæ•´çš„ i18n æœåŠ¡å’Œç±»å‹ç³»ç»Ÿ
- âœ… **ä¸­è‹±æ–‡åŒè¯­**ï¼šç•Œé¢ã€å‘½ä»¤ã€æç¤ºä¿¡æ¯å…¨é¢æ”¯æŒä¸­è‹±æ–‡åˆ‡æ¢
- âœ… **åŠ¨æ€åˆ‡æ¢**ï¼šè¿è¡Œæ—¶å³æ—¶åˆ‡æ¢è¯­è¨€ï¼Œæ— éœ€é‡å¯
- âœ… **æ—¥æœŸæœ¬åœ°åŒ–**ï¼šæ—¥æœŸæ—¶é—´æ ¹æ®è¯­è¨€è‡ªåŠ¨æ ¼å¼åŒ–ï¼ˆzh-CN / en-USï¼‰
- âœ… **å¿«æ·åˆ‡æ¢**ï¼šè§†å›¾æ ‡é¢˜æ æ·»åŠ è¯­è¨€åˆ‡æ¢æŒ‰é’®

**åˆ‡æ¢æ–¹å¼**ï¼š
1. **é…ç½®åˆ‡æ¢**ï¼šè®¾ç½® â†’ æœç´¢ "Knowledge Graph Language" â†’ é€‰æ‹© `zh` æˆ– `en`
2. **å‘½ä»¤åˆ‡æ¢**ï¼šå‘½ä»¤é¢æ¿ â†’ "Knowledge: Switch Language" â†’ é€‰æ‹©è¯­è¨€
3. **å¿«æ·æŒ‰é’®**ï¼šçŸ¥è¯†å›¾è°±/RAG è§†å›¾æ ‡é¢˜æ  â†’ ç‚¹å‡»è¯­è¨€å›¾æ ‡ ğŸŒ

**å·²å®Œæˆçš„å›½é™…åŒ–æ¨¡å—**ï¼š
- âœ… æ‰€æœ‰å‘½ä»¤å’Œèœå•ï¼ˆå®ä½“ã€å…³ç³»ã€è§‚å¯Ÿè®°å½•ã€RAGã€å¯¼å‡ºç­‰ï¼‰
- âœ… UI æä¾›è€…ï¼ˆæ ‘è§†å›¾ã€æ‚¬æµ®æç¤ºã€CodeLensï¼‰
- âœ… å¯¼å‡ºæœåŠ¡ï¼ˆMarkdown/JSON å¯¼å‡ºå†…å®¹ï¼‰
- âœ… RAG åŠŸèƒ½ï¼ˆé—®ç­”ã€ç´¢å¼•ã€Store ç®¡ç†ï¼‰
- âœ… æ‰©å±•æ¿€æ´»å’Œé”™è¯¯æç¤º
- âœ… è¿›åº¦æç¤ºå’ŒæˆåŠŸæ¶ˆæ¯

### ğŸ”Œ MCP Serverï¼ˆå·²å®Œæˆï¼‰ğŸ†•

> **Model Context Protocol (MCP)** æ˜¯ä¸€ä¸ªå¼€æ”¾åè®®ï¼Œè®© AI æ¨¡å‹èƒ½å¤Ÿå®‰å…¨åœ°è®¿é—®å¤–éƒ¨å·¥å…·å’Œæ•°æ®æºã€‚

æˆ‘ä»¬å·²ç»å®ç°äº†é¦–ä¸ªç‹¬ç«‹çš„ MCP Serverï¼Œå¯è®© **Cursor** å’Œ **GitHub Copilot** ç›´æ¥è°ƒç”¨çŸ¥è¯†å›¾è°±ä¸ RAG èƒ½åŠ›ï¼Œå¹¶åœ¨ç”Ÿäº§ç¯å¢ƒç¨³å®šè¿è¡Œã€‚

#### å½“å‰èƒ½åŠ›
- âœ… ç‹¬ç«‹éƒ¨ç½²ï¼š`npx @vibeknowledge/mcp-server --workspace <project>` å³å¯å¯åŠ¨
- âœ… å¤ç”¨ç°æœ‰æ•°æ®ï¼šç›´æ¥è¯»å– `.vscode/.knowledge/graph.sqlite` ä¸äº‘ç«¯/æœ¬åœ° RAG ç´¢å¼•
- âœ… å›¾è°±æ£€ç´¢å·¥å…·ï¼š`search_entities`ï¼ˆå®ä½“ï¼‰ã€`search_observations`ï¼ˆè§‚å¯Ÿè®°å½•ï¼‰
- âœ… å…³ç³»æŸ¥è¯¢å·¥å…·ï¼š`knowledge://relations`ï¼ˆæŒ‰åŠ¨è¯/å®ä½“ç­›é€‰ä¾èµ–ï¼‰
- âœ… æ¦‚è§ˆèµ„æºï¼š`knowledge://overview`ï¼Œä¸€é”®æŸ¥çœ‹å®ä½“/å…³ç³»/è§‚å¯Ÿè®°å½•ç»Ÿè®¡
- âœ… å·¥å…·æ¥å£ï¼š`ask_question`ï¼ˆè‡ªåŠ¨æ ¹æ® `rag.mode` é€‰æ‹© cloud/local RAGï¼Œè¿”å›å¼•ç”¨ï¼‰
- âœ… æ–‡æ¡£åŒ–ï¼šè¯¦è§ã€Š[MCP ä½¿ç”¨æŒ‡å—](./MCP_USAGE.md)ã€‹ï¼ŒåŒ…å« Cursor/GitHub Copilot é…ç½®ç¤ºä¾‹

#### æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            AI Client (Cursor / GitHub Copilot)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ MCP Protocol (stdio)
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 VibeKnowledge MCP Server                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Resources  â”‚  â”‚    Tools    â”‚  â”‚     Prompts     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â–¼                â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        graph.sqlite + Knowledge/ æ–‡æ¡£ + RAG ç´¢å¼•         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Resourcesï¼ˆå·²ä¸Šçº¿ï¼‰

| Resource URI | è¯´æ˜ |
|--------------|------|
| `knowledge://overview` | é¡¹ç›®çŸ¥è¯†å›¾è°±æ¦‚è§ˆï¼ˆå®ä½“æ•°ã€å…³ç³»æ•°ã€è§‚å¯Ÿè®°å½•ç»Ÿè®¡ç­‰ï¼‰ |

#### Toolsï¼ˆå·²ä¸Šçº¿ï¼‰

| Tool åç§° | è¯´æ˜ | å‚æ•° |
|-----------|------|------|
| `search_entities` | æ¨¡ç³Šæœç´¢å®ä½“ | `query?: string, type?: string, filePath?: string, limit?: number` |
| `search_observations` | æŸ¥è¯¢è§‚å¯Ÿè®°å½• | `query?: string, entityId?: string, limit?: number` |
| `knowledge://relations` | åˆ—å‡ºå…³ç³»è®°å½• | `verb?: string, source?: string, target?: string, limit?: number` |
| `ask_question` | RAG æ™ºèƒ½é—®ç­” | `question: string` |

#### ä½¿ç”¨åœºæ™¯ç¤ºä¾‹ï¼ˆç°çŠ¶ï¼‰

é…ç½®å¥½ MCP åï¼Œåœ¨ Cursor ä¸­ï¼š

```
ç”¨æˆ·ï¼šå¸®æˆ‘åˆ†æ UserService çš„ä¾èµ–

AIï¼š(è‡ªåŠ¨è°ƒç”¨ search_entities + knowledge://relations)
   
   æ‰¾åˆ° UserServiceï¼Œå¹¶åˆ—å‡º uses/depends_on å…³ç³»é“¾ï¼Œå¸®åŠ©å¿«é€Ÿå®šä½å—å½±å“çš„ç»„ä»¶ã€‚
```

> ğŸ“˜ **ä½¿ç”¨è¯´æ˜**ï¼šè¯¦è§ã€Š[MCP ä½¿ç”¨æŒ‡å—](./MCP_USAGE.md)ã€‹ï¼ŒåŒ…å« Cursor / GitHub Copilot é…ç½®ä¸å¸¸è§é—®é¢˜

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/yourusername/vibecoding.git
cd vibecoding

# 2. å®‰è£…ä¾èµ–
npm install

# 3. ç¼–è¯‘
npm run compile

# 4. åœ¨ VS Code ä¸­æŒ‰ F5 å¯åŠ¨è°ƒè¯•
```

### åŸºæœ¬ä½¿ç”¨

#### çŸ¥è¯†å›¾è°±åŠŸèƒ½
1. **åˆ›å»ºå®ä½“**ï¼šé€‰ä¸­ä»£ç  â†’ å³é”® â†’ "Knowledge: Create Entity from Selection"
2. **æ·»åŠ è§‚å¯Ÿè®°å½•**ï¼šé¼ æ ‡æ‚¬åœåœ¨å®ä½“ä¸Š â†’ ç‚¹å‡»"Add Observation"
3. **æŸ¥çœ‹çŸ¥è¯†å›¾è°±**ï¼šç‚¹å‡»ä¾§è¾¹æ çš„"Knowledge Graph"å›¾æ ‡
4. **æœç´¢**ï¼šå‘½ä»¤é¢æ¿ â†’ "Knowledge: Search Graph"

#### RAG çŸ¥è¯†åº“åŠŸèƒ½ ğŸ†•
**Cloud æ¨¡å¼ (Gemini)**ï¼š
1. **é…ç½® API Key**ï¼šè®¾ç½® â†’ æœç´¢ "Gemini API Key" â†’ å¡«å…¥ä½ çš„å¯†é’¥
2. **æ·»åŠ æ–‡æ¡£**ï¼šåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `Knowledge/` æ–‡ä»¶å¤¹ï¼Œæ·»åŠ æ–‡æ¡£
3. **è‡ªåŠ¨ç´¢å¼•**ï¼šæ–‡æ¡£è‡ªåŠ¨ä¸Šä¼ åˆ° Geminiï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œ

**Local æ¨¡å¼ (OpenAI Compatible) ğŸ†•**ï¼š
1. **åˆ‡æ¢æ¨¡å¼**ï¼šè®¾ç½® â†’ æœç´¢ "RAG Mode" â†’ é€‰æ‹© `local`
2. **é…ç½®æ¥å£**ï¼šè®¾ç½® `Local: Api Base` (ä¾‹å¦‚ `http://localhost:11434/v1` æˆ–å…¶ä»– OpenAI å…¼å®¹æ¥å£)
3. **é…ç½®æ¨¡å‹**ï¼š
   - `Local: Embedding Model` (ä¾‹å¦‚ `text-embedding-3-small` æˆ– `nomic-embed-text`)
   - `Local: Inference Model` (ä¾‹å¦‚ `gpt-3.5-turbo` æˆ– `llama3`)
4. **é‡å»ºç´¢å¼•**ï¼šåˆ‡æ¢é…ç½®åï¼Œå»ºè®®æ‰§è¡Œ `Knowledge: Rebuild RAG Index`

#### AI åœºæ™¯åˆ‡æ¢åŠŸèƒ½ ğŸ†•
æ‰©å±•å†…ç½® 8 ä¸ªä¸åŒçš„ AI åœºæ™¯æ¨¡æ¿ï¼Œå¯æ ¹æ®å½“å‰å·¥ä½œå†…å®¹å¿«é€Ÿåˆ‡æ¢ï¼š

| åœºæ™¯ | é€‚ç”¨æ—¶æœº | åŒ…å«å†…å®¹ |
|------|----------|----------|
| ğŸ”¹ **åŸºç¡€è§„èŒƒ** | æ—¥å¸¸å¼€å‘ï¼ˆé»˜è®¤ï¼‰ | ä»£ç è§„èŒƒã€å‘½åçº¦å®šã€é”™è¯¯å¤„ç†ã€å®‰å…¨æ€§ |
| ğŸ¨ **å‰ç«¯å¼€å‘** | å¼€å‘å‰ç«¯åŠŸèƒ½ | UIç»„ä»¶ã€æ ·å¼ã€çŠ¶æ€ç®¡ç†ã€æ€§èƒ½ä¼˜åŒ– |
| âš™ï¸ **åç«¯å¼€å‘** | å¼€å‘åç«¯åŠŸèƒ½ | æ•°æ®åº“ã€ä¸­é—´ä»¶ã€æœåŠ¡é›†æˆã€å®‰å…¨æ€§ |
| ğŸ”Œ **API å¼€å‘** | ä¸“æ³¨APIå¼€å‘ | è·¯ç”±è®¾è®¡ã€å‚æ•°éªŒè¯ã€é”™è¯¯å¤„ç†ã€APIæ–‡æ¡£ |
| ğŸ§ª **æµ‹è¯•åœºæ™¯** | ç¼–å†™æµ‹è¯• | æµ‹è¯•ç”¨ä¾‹ã€TDDã€è¦†ç›–ç‡ã€Mock |
| ğŸ› **è°ƒè¯•ä¼˜åŒ–** | ä¿®å¤é—®é¢˜/ä¼˜åŒ– | é”™è¯¯è¯Šæ–­ã€æ€§èƒ½ä¼˜åŒ–ã€ä»£ç å®¡æŸ¥ã€é‡æ„ |
| ğŸ“š **æ–‡æ¡£ç¼–å†™** | ç¼–å†™æ–‡æ¡£ | APIæ–‡æ¡£ã€ä»£ç æ³¨é‡Šã€README |
| ğŸš€ **DevOps** | ç¯å¢ƒ/éƒ¨ç½²ç›¸å…³ | ç¯å¢ƒé…ç½®ã€CI/CDã€Dockerã€éƒ¨ç½² |

**ä½¿ç”¨æ–¹æ³•**ï¼š
1. **å¿«é€Ÿåˆ‡æ¢**ï¼šç‚¹å‡»å³ä¸‹è§’çŠ¶æ€æ çš„åœºæ™¯å›¾æ ‡ï¼Œæˆ–è¿è¡Œå‘½ä»¤ `Knowledge: Switch AI Scenario`
2. **æŸ¥çœ‹å½“å‰åœºæ™¯**ï¼šè¿è¡Œå‘½ä»¤ `Knowledge: Show Current AI Scenario`
3. **è‡ªåŠ¨åº”ç”¨**ï¼šåˆ‡æ¢åœºæ™¯åä¼šæç¤ºæ˜¯å¦é‡æ–°ç”Ÿæˆ AI é…ç½®æ–‡ä»¶
4. **è‡ªå®šä¹‰**ï¼šåŸºç¡€åœºæ™¯æ”¯æŒè‡ªå®šä¹‰ï¼Œåœ¨ `.vscode/.knowledge/ai-template.md` æ·»åŠ é¡¹ç›®ç‰¹å®šè§„èŒƒ
5. **ä¸­è‹±æ–‡æ”¯æŒ**ï¼šæ‰©å±•å†…ç½®ä¸­è‹±æ–‡åŒè¯­æ¨¡æ¿ï¼Œæ ¹æ®è¯­è¨€è®¾ç½®è‡ªåŠ¨é€‰æ‹©ï¼ˆ8ä¸ªåœºæ™¯ Ã— 2ç§è¯­è¨€ = 16ä¸ªæ¨¡æ¿ï¼‰

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
vibecoding/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ extension.ts                  # âœ… æ’ä»¶å…¥å£
â”‚   â”œâ”€â”€ services/                     # âœ… æ ¸å¿ƒæœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ database.ts               # æ•°æ®åº“æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ entityService.ts          # å®ä½“ç®¡ç†ï¼ˆæ‰‹åŠ¨å›¾è°±ï¼‰
â”‚   â”‚   â”œâ”€â”€ relationService.ts        # å…³ç³»ç®¡ç†ï¼ˆæ‰‹åŠ¨å›¾è°±ï¼‰
â”‚   â”‚   â”œâ”€â”€ observationService.ts     # è§‚å¯Ÿè®°å½•ç®¡ç†
â”‚   â”‚   â””â”€â”€ autoGraph/                # ğŸ†• è‡ªåŠ¨å›¾è°±æ¨¡å—
â”‚   â”‚       â”œâ”€â”€ index.ts              # æ¨¡å—å¯¼å‡º
â”‚   â”‚       â”œâ”€â”€ types.ts              # ç±»å‹å®šä¹‰
â”‚   â”‚       â”œâ”€â”€ autoGraphService.ts   # è‡ªåŠ¨å›¾è°±æ•°æ®æœåŠ¡
â”‚   â”‚       â””â”€â”€ codeAnalyzer.ts       # ä»£ç é™æ€åˆ†æå™¨
â”‚   â”œâ”€â”€ providers/                    # âœ… VS Code UI æä¾›è€…
â”‚   â”‚   â”œâ”€â”€ hoverProvider.ts          # æ‚¬æµ®æç¤º
â”‚   â”‚   â”œâ”€â”€ codeLensProvider.ts       # CodeLens
â”‚   â”‚   â””â”€â”€ treeDataProvider.ts       # æ ‘è§†å›¾
â”‚   â”œâ”€â”€ ui/                          # âœ… å‘½ä»¤å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ commands/
â”‚   â”‚   â”‚   â”œâ”€â”€ entityCommands.ts     # å®ä½“å‘½ä»¤
â”‚   â”‚   â”‚   â””â”€â”€ autoGraphCommands.ts  # ğŸ†• è‡ªåŠ¨å›¾è°±å‘½ä»¤
â”‚   â”‚   â””â”€â”€ webview/
â”‚   â”‚       â””â”€â”€ graphView.ts          # å›¾è°±å¯è§†åŒ–ï¼ˆæ”¯æŒæ¨¡å¼åˆ‡æ¢ï¼‰
â”‚   â””â”€â”€ utils/                       # âœ… å·¥å…·å‡½æ•°
â”‚       â””â”€â”€ types.ts                 # ç±»å‹å®šä¹‰
â”œâ”€â”€ package.json                      # æ’ä»¶é…ç½®
â”œâ”€â”€ tsconfig.json                     # TypeScript é…ç½®
â”œâ”€â”€ README.md                         # é¡¹ç›®è¯´æ˜ï¼ˆæœ¬æ–‡ä»¶ï¼‰
â”œâ”€â”€ Demo.md                           # æ¼”ç¤ºæŒ‡å—
â””â”€â”€ é¡¹ç›®ç»“æ„.md                       # é¡¹ç›®ç»“æ„è¯¦ç»†è¯´æ˜

å›¾ä¾‹ï¼š
  âœ… å·²å®ç°
  ğŸ”œ è®¡åˆ’ä¸­
```

### æ•°æ®å­˜å‚¨

```
é¡¹ç›®æ ¹ç›®å½•/
â”œâ”€â”€ .vscode/
â”‚   â””â”€â”€ .knowledge/
â”‚       â””â”€â”€ graph.sqlite              # çŸ¥è¯†å›¾è°±æ•°æ®åº“ï¼ˆåŒ…å« RAG ç´¢å¼•ï¼‰
â””â”€â”€ Knowledge/                        # âœ… RAG æ–‡æ¡£çŸ¥è¯†åº“
    â”œâ”€â”€ architecture.md               # æ¶æ„æ–‡æ¡£
    â”œâ”€â”€ api-guide.md                  # API æŒ‡å—
    â””â”€â”€ decisions/                    # è®¾è®¡å†³ç­–
        â””â”€â”€ adr-001.md
```

**RAG Store éš”ç¦»æœºåˆ¶**ï¼š
- æ¯ä¸ªé¡¹ç›®è‡ªåŠ¨ç”Ÿæˆå”¯ä¸€çš„ Store IDï¼ˆåŸºäºé¡¹ç›®è·¯å¾„ hashï¼‰
- å¤šä¸ªé¡¹ç›®å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ª Gemini API Key
- æ–‡æ¡£ç´¢å¼•å®Œå…¨éš”ç¦»ï¼Œä¸ä¼šæ··æ·†
- Store ä¿¡æ¯å­˜å‚¨åœ¨æœ¬åœ° SQLite æ•°æ®åº“

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ—‚ï¸ çŸ¥è¯†å›¾è°±ç®¡ç†

#### åŸºç¡€å›¾è°±åŠŸèƒ½
- âœ… **å®ä½“ç®¡ç†**ï¼šæ‰‹åŠ¨åˆ›å»ºå’Œç®¡ç†ä»£ç å®ä½“ï¼ˆFunctionã€Classã€Interfaceã€Variable ç­‰ï¼‰
- âœ… **å…³ç³»ç®¡ç†**ï¼šå»ºç«‹å®ä½“é—´çš„å…³ç³»ï¼ˆusesã€callsã€extendsã€implementsã€depends_onï¼‰
- âœ… **è§‚å¯Ÿè®°å½•**ï¼šä¸ºå®ä½“æ·»åŠ ç¬”è®°ã€è­¦å‘Šã€TODOã€è®¾è®¡å†³ç­–ç­‰è§‚å¯Ÿè®°å½•ï¼ˆæ”¯æŒå¤šè¡Œç¼–è¾‘ï¼Œè‹¥å®ä½“æš‚æ— è®°å½•ä¼šè‡ªåŠ¨åˆ›å»ºé¦–æ¡ç¬”è®°ï¼‰
- âœ… **æ¨¡ç³Šæœç´¢**ï¼šå¿«é€Ÿæœç´¢å®ä½“å’Œè§‚å¯Ÿè®°å½•
- âœ… **æ•°æ®æŒä¹…åŒ–**ï¼šåŸºäº SQLite çš„æœ¬åœ°æ•°æ®åº“å­˜å‚¨

#### UI é›†æˆ
- âœ… **ä¾§è¾¹æ æ ‘è§†å›¾**ï¼šæŒ‰ç±»å‹åˆ†ç»„æ˜¾ç¤ºæ‰€æœ‰å®ä½“å’Œå…³ç³»
- âœ… **æ‚¬æµ®æç¤º**ï¼šé¼ æ ‡æ‚¬åœæ˜¾ç¤ºå®ä½“ä¿¡æ¯ã€è§‚å¯Ÿè®°å½•ã€å…³ç³»ç½‘ç»œ
- âœ… **CodeLens**ï¼šä»£ç ä¸Šæ–¹æ˜¾ç¤ºå®ä½“ç»Ÿè®¡ä¿¡æ¯
- âœ… **å³é”®èœå•**ï¼šå¿«é€Ÿåˆ›å»ºå®ä½“ã€æ·»åŠ è§‚å¯Ÿã€å»ºç«‹å…³ç³»
- âœ… **å‘½ä»¤é¢æ¿**ï¼šå®Œæ•´çš„å‘½ä»¤é›†åˆï¼Œå¿«é€Ÿè®¿é—®æ‰€æœ‰åŠŸèƒ½

#### å¯è§†åŒ–
- âœ… **äº¤äº’å¼å›¾è°±**ï¼šåŸºäº D3.js çš„åŠ›å¯¼å‘å›¾å½¢åŒ–å±•ç¤º
- âœ… **è‡ªåŠ¨å¸ƒå±€**ï¼šèŠ‚ç‚¹è‡ªåŠ¨æ’åˆ—ï¼Œé¿å…é‡å 
- âœ… **å¤šé‡è¾¹åˆ†ç¦»**ï¼šåŒæ–¹å‘çš„å¤šæ¡å…³ç³»è‡ªåŠ¨ä»¥ä¸åŒå¼§çº¿æ˜¾ç¤º
- âœ… **å¾ªç¯ä¾èµ–æ£€æµ‹**ï¼šè‡ªåŠ¨è¯†åˆ«å¹¶æ ‡è®°å¾ªç¯ä¾èµ–
- âœ… **åŒå‡»è·³è½¬**ï¼šåŒå‡»èŠ‚ç‚¹ç›´æ¥è·³è½¬åˆ°ä»£ç ä½ç½®
- âœ… **æ‹–æ‹½äº¤äº’**ï¼šæ”¯æŒèŠ‚ç‚¹æ‹–æ‹½ã€ç¼©æ”¾ã€å¹³ç§»
- âœ… **èŠ‚ç‚¹æ‚¬æµ®è¯¦æƒ…**ï¼šTooltip è‡ªåŠ¨å±•ç¤ºè§‚å¯Ÿè®°å½•æ‘˜è¦åŠå‰©ä½™æ¡æ•°ï¼Œå¿«é€ŸæŒæ¡é£é™©ä¸ TODO
- âœ… **å›¾è°±æ¨¡å¼åˆ‡æ¢**ï¼šæ‰‹åŠ¨å›¾è°± / è‡ªåŠ¨å›¾è°± / åˆå¹¶è§†å›¾ ä¸€é”®åˆ‡æ¢

---

### âš¡ è‡ªåŠ¨å›¾è°±ç”Ÿæˆ ğŸ†•

åŸºäºé™æ€ä»£ç åˆ†æè‡ªåŠ¨ç”Ÿæˆä¾èµ–å…³ç³»å›¾è°±ï¼Œæ— éœ€ AIï¼Œç¡®å®šæ€§åˆ†æã€‚

#### æ”¯æŒçš„è¯­è¨€
- âœ… TypeScript (.ts, .tsx)
- âœ… JavaScript (.js, .jsx)

#### è‡ªåŠ¨æå–çš„å®ä½“ç±»å‹

| ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `class` | ç±»å®šä¹‰ | `class UserService {}` |
| `interface` | æ¥å£å®šä¹‰ | `interface UserData {}` |
| `function` | å‡½æ•°å®šä¹‰ | `function createUser() {}` |
| `variable` | å¯¼å‡ºå˜é‡ | `export const config = {}` |

> ğŸ’¡ **æ³¨æ„**ï¼šåªåˆ†æå·¥ä½œåŒºå†…çš„ä»£ç ï¼Œå¤–éƒ¨ä¾èµ–ï¼ˆå¦‚ @nestjsã€typeormï¼‰ä¸ä¼šç”ŸæˆèŠ‚ç‚¹

#### è‡ªåŠ¨è¯†åˆ«çš„å…³ç³»ç±»å‹

| å…³ç³» | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `extends` | ç±»ç»§æ‰¿ | `class A extends B` |
| `implements` | æ¥å£å®ç° | `class A implements B` |
| `uses` | ä¾èµ–ä½¿ç”¨ | æ„é€ å‡½æ•°æ³¨å…¥ã€æˆå‘˜å˜é‡ã€è¿”å›ç±»å‹ |
| `imports` | æ¨¡å—å¯¼å…¥ | `import { X } from './x'` |

#### ä¾èµ–æ£€æµ‹åœºæ™¯

```typescript
// âœ… ç±»ç»§æ‰¿
class UserController extends BaseController {}

// âœ… æ¥å£å®ç°ï¼ˆä»…å·¥ä½œåŒºå†…çš„æ¥å£ï¼‰
class ProfileModule implements LocalInterface {}

// âœ… æ„é€ å‡½æ•°ä¾èµ–æ³¨å…¥
class ArticleController {
  constructor(private articleService: ArticleService) {}
}

// âœ… æ–¹æ³•è¿”å›ç±»å‹
async getProfile(): Promise<ProfileRO> {}

// âœ… æ–¹æ³•å‚æ•°ç±»å‹
createArticle(@Body() dto: CreateArticleDto) {}

// âœ… æ¥å£å±æ€§ç±»å‹
interface ArticleData {
  author?: UserData;  // ArticleData --uses--> UserData
}

// âœ… @Inject è£…é¥°å™¨
@Inject(ConfigService) private config: ConfigService

// âœ… @Module è£…é¥°å™¨ï¼ˆNestJSï¼‰
@Module({
  imports: [UserModule, ArticleModule],  // --uses--> UserModule, ArticleModule
  controllers: [AppController],
  providers: [AppService],
})
class ApplicationModule {}

// âœ… TypeORM å…³ç³»è£…é¥°å™¨
@ManyToOne(type => UserEntity, user => user.articles)
author: UserEntity;  // --uses--> UserEntity

// âœ… å‡½æ•°å†…éƒ¨ä¾èµ–ï¼ˆnew å®ä¾‹åŒ–ã€é™æ€æ–¹æ³•è°ƒç”¨ï¼‰
async function bootstrap() {
  const app = await NestFactory.create(ApplicationModule);  // --uses--> ApplicationModule
  const builder = new DocumentBuilder();  // --uses--> DocumentBuilderï¼ˆå¦‚æœåœ¨å·¥ä½œåŒºå†…ï¼‰
}
```

#### ä½¿ç”¨æ–¹æ³•

1. **åˆ†ææ•´ä¸ªå·¥ä½œåŒº**ï¼šå‘½ä»¤é¢æ¿ â†’ `Knowledge: Analyze Workspace (Auto Graph)`
2. **åˆ†æå½“å‰æ–‡ä»¶**ï¼šå‘½ä»¤é¢æ¿ â†’ `Knowledge: Analyze Current File (Auto Graph)`
3. **æŸ¥çœ‹ç»Ÿè®¡**ï¼šå‘½ä»¤é¢æ¿ â†’ `Knowledge: View Auto Graph Statistics`
4. **æ¸…ç©ºè‡ªåŠ¨å›¾è°±**ï¼šå‘½ä»¤é¢æ¿ â†’ `Knowledge: Clear Auto Graph`
5. **åˆ‡æ¢è§†å›¾**ï¼šåœ¨å›¾è°±å¯è§†åŒ–ç•Œé¢ç‚¹å‡»é¡¶éƒ¨æŒ‰é’®åˆ‡æ¢ ğŸ“æ‰‹åŠ¨ / âš¡è‡ªåŠ¨ / ğŸ”—åˆå¹¶
6. **æ·»åŠ è§‚å¯Ÿè®°å½•**ï¼šåœ¨ä¾§è¾¹æ  Explorer ä¸­å³é”®è‡ªåŠ¨å›¾è°±å®ä½“ â†’ `Add Observation`
7. **ç¼–è¾‘è§‚å¯Ÿè®°å½•**ï¼šå³é”®è§‚å¯Ÿè®°å½• â†’ `Edit Observation`ï¼ˆæ”¯æŒå¤šè¡Œç¼–è¾‘ï¼‰
8. **åˆ é™¤è§‚å¯Ÿè®°å½•**ï¼šå³é”®è§‚å¯Ÿè®°å½• â†’ `Delete Observation`

#### é…ç½®é€‰é¡¹

| é…ç½®é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `knowledgeGraph.autoAnalyze.enabled` | å¯ç”¨è‡ªåŠ¨åˆ†æ | `true` |
| `knowledgeGraph.autoAnalyze.onSave` | ä¿å­˜æ—¶è‡ªåŠ¨åˆ†æ | `false` |
| `knowledgeGraph.autoAnalyze.include` | åŒ…å«çš„æ–‡ä»¶æ¨¡å¼ | `["**/*.ts", "**/*.tsx", "**/*.js", "**/*.jsx"]` |
| `knowledgeGraph.autoAnalyze.exclude` | æ’é™¤çš„æ–‡ä»¶æ¨¡å¼ | `["**/node_modules/**", "**/dist/**", "**/*.d.ts", "**/*.test.ts"]` |

#### ä¸æ‰‹åŠ¨å›¾è°±çš„åŒºåˆ«

| ç‰¹æ€§ | æ‰‹åŠ¨å›¾è°± | è‡ªåŠ¨å›¾è°± |
|------|----------|----------|
| åˆ›å»ºæ–¹å¼ | ç”¨æˆ·æ‰‹åŠ¨åˆ›å»º | é™æ€åˆ†æè‡ªåŠ¨ç”Ÿæˆ |
| è§‚å¯Ÿè®°å½• | âœ… æ”¯æŒ | âœ… æ”¯æŒï¼ˆé‡æ–°åˆ†ææ—¶ä¿ç•™ï¼‰ |
| æ•°æ®éš”ç¦» | `entities` / `observations` è¡¨ | `auto_entities` / `auto_observations` è¡¨ |
| æ•°æ®æ›´æ–° | æ‰‹åŠ¨å¢åˆ æ”¹ | å¢é‡æ›´æ–°ï¼šåˆ é™¤çš„å®ä½“ä¼šç§»é™¤ï¼Œä¿ç•™çš„å®ä½“ä¿æŒè§‚å¯Ÿè®°å½• |
| å¤–éƒ¨ä¾èµ– | å¯æ‰‹åŠ¨æ·»åŠ  | ä»…å·¥ä½œåŒºå†…ä»£ç  |
| é€‚ç”¨åœºæ™¯ | è®°å½•è®¾è®¡å†³ç­–ã€é‡æ„ç¬”è®° | å¿«é€Ÿç†è§£ä»£ç ä¾èµ– + æ ‡æ³¨å…³é”®èŠ‚ç‚¹ |

---

### ğŸ¤– AI ååŒåŠŸèƒ½

#### çŸ¥è¯†å›¾è°±å¯¼å‡º
- âœ… **Markdown å¯¼å‡º**ï¼šç”Ÿæˆé€‚åˆ AI é˜…è¯»çš„æ ¼å¼åŒ–æ–‡æ¡£
- âœ… **JSON å¯¼å‡º**ï¼šç»“æ„åŒ–æ•°æ®å¯¼å‡º
- âœ… **ä¾èµ–é“¾åˆ†æ**ï¼šé€’å½’æ„å»ºä¾èµ–æ ‘ï¼Œæ£€æµ‹å¾ªç¯ä¾èµ–ï¼Œç»Ÿè®¡ä¼ é€’ä¾èµ–
- âœ… **æŒ‰ç±»å‹åˆ†ç»„**ï¼šå®ä½“ã€å…³ç³»ã€è§‚å¯Ÿè®°å½•åˆ†ç±»å±•ç¤º

#### AI å·¥å…·é›†æˆ
- âœ… **Cursor é›†æˆ**ï¼šè‡ªåŠ¨ç”Ÿæˆ `.cursorrules` é…ç½®æ–‡ä»¶
- âœ… **GitHub Copilot é›†æˆ**ï¼šè‡ªåŠ¨ç”Ÿæˆ `.github/copilot-instructions.md`
- âœ… **å›¾è°±æºé€‰æ‹©** ğŸ†•ï¼šç”Ÿæˆ AI é…ç½®æ—¶å¯é€‰æ‹©æ•°æ®æº
  - ğŸ“ **æ‰‹åŠ¨å›¾è°±**ï¼šè®¾è®¡å†³ç­–ã€è§‚å¯Ÿè®°å½•ã€æ‰‹åŠ¨ç»´æŠ¤çš„å…³ç³»
  - âš¡ **è‡ªåŠ¨å›¾è°±**ï¼šé™æ€åˆ†æç”Ÿæˆçš„ä»£ç ç»“æ„å’Œä¾èµ–å…³ç³»
  - ğŸ”— **åˆå¹¶å›¾è°±**ï¼šæ‰‹åŠ¨ + è‡ªåŠ¨ï¼Œæœ€å®Œæ•´çš„ä¸Šä¸‹æ–‡
- âœ… **æŠ€æœ¯æ ˆæ£€æµ‹**ï¼šè‡ªåŠ¨æå–ä¾èµ–ä¿¡æ¯
  - JavaScript/TypeScript é¡¹ç›®ï¼ˆ`package.json`ï¼‰
  - Java Maven é¡¹ç›®ï¼ˆ`pom.xml`ï¼‰
  - Python é¡¹ç›®ï¼ˆ`requirements.txt`ã€`pyproject.toml`ã€`setup.py`ï¼‰
- âœ… **åœºæ™¯åˆ‡æ¢**ï¼š8ç§å†…ç½®åœºæ™¯æ¨¡æ¿ï¼Œå¿«é€Ÿé€‚åº”ä¸åŒå¼€å‘ä»»åŠ¡ï¼ˆå‰ç«¯/åç«¯/æµ‹è¯•/è°ƒè¯•ç­‰ï¼‰
- âœ… **ä¸€é”®ç”Ÿæˆ**ï¼šåŒæ—¶ç”Ÿæˆæ‰€æœ‰ AI é…ç½®æ–‡ä»¶
- âœ… **æ™ºèƒ½åˆ†ç±»**ï¼šè‡ªåŠ¨åˆ†ç±»è­¦å‘Šã€TODOã€å·²çŸ¥é—®é¢˜

#### å¿«é€Ÿä¸Šä¸‹æ–‡å¯¼å‡º
- âœ… **å®ä½“ä¸Šä¸‹æ–‡**ï¼šå¤åˆ¶å•ä¸ªå®ä½“çš„å®Œæ•´ä¸Šä¸‹æ–‡åˆ°å‰ªè´´æ¿
- âœ… **æ–‡ä»¶ä¸Šä¸‹æ–‡**ï¼šå¯¼å‡ºå½“å‰æ–‡ä»¶çš„æ‰€æœ‰å®ä½“å’Œå…³ç³»
- âœ… **AI æ‘˜è¦**ï¼šç”Ÿæˆé¡¹ç›®æ•´ä½“æ‘˜è¦ï¼Œä¾› AI ç†è§£

---

### â˜ï¸ æŒä¹…çŸ¥è¯†åº“ï¼ˆRAGï¼‰

#### RAG æ¨¡å¼
æ’ä»¶æ”¯æŒä¸¤ç§ RAG æ¨¡å¼ï¼Œå¯æ ¹æ®éšç§éœ€æ±‚çµæ´»åˆ‡æ¢ï¼š

1. **Cloud RAG (Google Gemini)**
   - âœ… **æ‰˜ç®¡æœåŠ¡**ï¼šä½¿ç”¨ Gemini File Search APIï¼Œæ— éœ€æœ¬åœ°ç®—åŠ›
   - âœ… **å¤šæ ¼å¼æ”¯æŒ**ï¼šåŸç”Ÿæ”¯æŒ PDFã€Wordã€ä»£ç ç­‰ 100+ ç§æ ¼å¼
   - âœ… **è¯­ä¹‰æœç´¢**ï¼šGemini è‡ªåŠ¨åˆ†å—å’Œæ£€ç´¢

3. **Local RAG (æœ¬åœ°æ¨¡å¼)** ğŸ†•
   - âœ… **æ•°æ®éšç§**ï¼šæ‰€æœ‰æ–‡æ¡£å’Œå‘é‡æ•°æ®ä»…å­˜å‚¨åœ¨æœ¬åœ° SQLiteï¼Œä¸ä¸Šä¼ äº‘ç«¯
   - âœ… **æ¨¡å‹çµæ´»**ï¼šæ”¯æŒ Ollamaã€LocalAIã€vLLM ç­‰ä»»ä½• OpenAI å…¼å®¹æ¥å£
   - âœ… **è‡ªå®šä¹‰é…ç½®**ï¼šå¯è‡ªå®šä¹‰ Embedding æ¨¡å‹å’Œ Inference æ¨ç†æ¨¡å‹
   - âœ… **å¤šæ ¼å¼è§£æ**ï¼šé™¤çº¯æ–‡æœ¬å¤–ï¼Œå†…ç½® PDF / DOC / DOCX è§£æï¼Œè‡ªåŠ¨æŠ½å–æ­£æ–‡å‚ä¸æœ¬åœ°ç´¢å¼•
   - âœ… **è½»é‡çº§å®ç°**ï¼š
     - é‡‡ç”¨ **SQLite (æŒä¹…åŒ–) + å†…å­˜ (è®¡ç®—)** æ¶æ„ï¼Œè·¨ Win/macOS/Linux æ— é¢å¤–ä¾èµ–
     - å¯åŠ¨æ—¶åŠ è½½å‘é‡åˆ°å†…å­˜ï¼Œç”¨ä½™å¼¦ç›¸ä¼¼åº¦æš´åŠ›æ£€ç´¢ï¼Œæ»¡è¶³ VS Code å†…å¸¸è§çš„ä¸­å°è§„æ¨¡æ•°æ®
     - æ— éœ€å®‰è£… Dockerã€Python/Rust ä¾èµ–æˆ–é¢å¤–æœåŠ¡ï¼Œå¼€ç®±å³ç”¨ã€æ•…éšœå¯æ§
     - æ•°æ®éšé¡¹ç›®ä¸€èµ·å­˜å‚¨åœ¨ `.vscode/.knowledge/graph.sqlite`ï¼Œä¾¿äºå¤‡ä»½ä¸å®¡æŸ¥

#### æ™ºèƒ½é—®ç­”
- âœ… **Ask Question**ï¼šåŸºäºæ–‡æ¡£å†…å®¹çš„æ™ºèƒ½é—®ç­”
- âœ… **æ¥æºè¿½æº¯**ï¼šæ˜¾ç¤ºç­”æ¡ˆçš„æ¥æºæ–‡æ¡£ï¼ˆGrounding Metadataï¼‰
- âœ… **Markdown å±•ç¤º**ï¼šé—®ç­”ç»“æœä»¥æ ¼å¼åŒ– Markdown æ–‡æ¡£å±•ç¤º
- âœ… **å¯å¤åˆ¶ä¿å­˜**ï¼šæ”¯æŒå¤åˆ¶å†…å®¹æˆ–ä¿å­˜ä¸ºæ–‡ä»¶

#### é¡¹ç›®ç®¡ç†
- âœ… **é¡¹ç›®éš”ç¦»**ï¼šæ¯ä¸ªé¡¹ç›®ç‹¬ç«‹çš„ File Search Storeï¼Œå¤šé¡¹ç›®å®Œå…¨éš”ç¦»
- âœ… **API Key é…ç½®**ï¼šé€šè¿‡ VS Code è®¾ç½®ç®¡ç† Gemini API Key
- âœ… **è‡ªåŠ¨é‡è¿**ï¼šAPI Key æ›´æ–°åè‡ªåŠ¨é‡æ–°åˆå§‹åŒ–
- âœ… **Store ä¿¡æ¯æŸ¥çœ‹**ï¼šäº‘æ¨¡å¼å±•ç¤ºå®æ—¶äº‘ç«¯ç»Ÿè®¡ï¼›æœ¬åœ°æ¨¡å¼è‡ªåŠ¨éšè—äº‘ç«¯æç¤ºï¼Œä»…æ˜¾ç¤ºæœ¬åœ°å…ƒæ•°æ®
- âœ… **ç´¢å¼•é‡å»º**ï¼šRebuild RAG Index å‘½ä»¤ï¼Œå®Œå…¨åŒæ­¥æœ¬åœ°å’Œäº‘ç«¯

#### ä¾§è¾¹æ ç®¡ç†
- âœ… **Documents (RAG) è§†å›¾**ï¼šæ˜¾ç¤ºå·²ç´¢å¼•çš„æ–‡æ¡£åˆ—è¡¨
- âœ… **å¿«æ·æ“ä½œ**ï¼šé—®å·å›¾æ ‡ï¼ˆAsk Questionï¼‰ã€ä¿¡æ¯å›¾æ ‡ï¼ˆæŸ¥çœ‹ Store ä¿¡æ¯ï¼‰ã€åˆ·æ–°å›¾æ ‡ï¼ˆé‡å»ºç´¢å¼•ï¼‰
- âœ… **è¿æ¥æµ‹è¯•**ï¼šæµ‹è¯• Gemini API è¿æ¥çŠ¶æ€

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

| å±‚æ¬¡ | æŠ€æœ¯é€‰å‹ | è¯´æ˜ |
|------|---------|------|
| **æ’ä»¶æ¡†æ¶** | VS Code Extension API | å®˜æ–¹æ’ä»¶å¼€å‘æ¡†æ¶ |
| **è¯­è¨€** | TypeScript | ç±»å‹å®‰å…¨ï¼Œå¼€å‘ä½“éªŒå¥½ |
| **æ•°æ®åº“** | sql.js | WebAssembly SQLiteï¼Œè·¨å¹³å°å…¼å®¹ |
| **æœç´¢** | LIKE æ¨¡ç³ŠæŸ¥è¯¢ | ç®€å•é«˜æ•ˆï¼Œé€‚åˆä¸­å°å‹é¡¹ç›® |
| **å¯è§†åŒ–** | vis-network | äº¤äº’å¼å›¾è°±å¯è§†åŒ– |
| **RAG ç³»ç»Ÿ** | Google Gemini File Search API | æ‰˜ç®¡å¼å‘é‡æœç´¢å’Œæ™ºèƒ½é—®ç­” |
| **ä»£ç è§£æ** | æ­£åˆ™è¡¨è¾¾å¼ + XML è§£æ | æ”¯æŒå¤šç§é¡¹ç›®é…ç½®æ–‡ä»¶ |

### æ ¸å¿ƒæ•°æ®æµ

```
ç”¨æˆ·æ“ä½œ
  â†“
VS Code UI (TreeView / Hover / CodeLens / Menu)
  â†“
Commands (entityCommands.ts)
  â†“
Services (entityService / relationService / observationService)
  â†“
Database (database.ts â†’ SQLite)
  â†“
å­˜å‚¨åœ¨ .vscode/.knowledge/graph.sqlite
```

### æ•°æ®åº“ Schema

```sql
-- ========== æ‰‹åŠ¨å›¾è°±è¡¨ ==========

-- å®ä½“è¡¨ï¼ˆæ‰‹åŠ¨ï¼‰
CREATE TABLE entities (
    id TEXT PRIMARY KEY,
    name TEXT NOT NULL,
    type TEXT NOT NULL,
    file_path TEXT NOT NULL,
    start_line INTEGER NOT NULL,
    end_line INTEGER NOT NULL,
    description TEXT,
    created_at INTEGER NOT NULL,
    updated_at INTEGER NOT NULL
);

-- å…³ç³»è¡¨ï¼ˆæ‰‹åŠ¨ï¼‰
CREATE TABLE relations (
    id TEXT PRIMARY KEY,
    source_entity_id TEXT NOT NULL,
    target_entity_id TEXT NOT NULL,
    verb TEXT NOT NULL,
    created_at INTEGER NOT NULL
);

-- è§‚å¯Ÿè®°å½•è¡¨
CREATE TABLE observations (
    id TEXT PRIMARY KEY,
    entity_id TEXT NOT NULL,
    content TEXT NOT NULL,
    created_at INTEGER NOT NULL,
    updated_at INTEGER NOT NULL
);

-- ========== è‡ªåŠ¨å›¾è°±è¡¨ ğŸ†• ==========

-- è‡ªåŠ¨ç”Ÿæˆçš„å®ä½“è¡¨
CREATE TABLE auto_entities (
    id TEXT PRIMARY KEY,
    name TEXT NOT NULL,
    type TEXT NOT NULL,           -- class/interface/function/variable
    file_path TEXT NOT NULL,
    start_line INTEGER NOT NULL,
    end_line INTEGER NOT NULL,
    description TEXT,
    created_at INTEGER NOT NULL,
    updated_at INTEGER NOT NULL,
    metadata TEXT                 -- JSON æ ¼å¼çš„é¢å¤–ä¿¡æ¯
);

-- è‡ªåŠ¨ç”Ÿæˆçš„å…³ç³»è¡¨
CREATE TABLE auto_relations (
    id TEXT PRIMARY KEY,
    source_entity_id TEXT NOT NULL,
    target_entity_id TEXT NOT NULL,
    verb TEXT NOT NULL,           -- extends/implements/uses/imports
    created_at INTEGER NOT NULL,
    metadata TEXT,
    FOREIGN KEY (source_entity_id) REFERENCES auto_entities(id) ON DELETE CASCADE,
    FOREIGN KEY (target_entity_id) REFERENCES auto_entities(id) ON DELETE CASCADE
);

-- æ–‡ä»¶åˆ†æç¼“å­˜è¡¨ï¼ˆå¢é‡åˆ†æç”¨ï¼‰
CREATE TABLE auto_file_cache (
    file_path TEXT PRIMARY KEY,
    content_hash TEXT NOT NULL,   -- MD5 å“ˆå¸Œ
    analyzed_at INTEGER NOT NULL
);

-- è‡ªåŠ¨å›¾è°±è§‚å¯Ÿè®°å½•è¡¨ ğŸ†•
CREATE TABLE auto_observations (
    id TEXT PRIMARY KEY,
    entity_id TEXT NOT NULL,
    content TEXT NOT NULL,
    created_at INTEGER NOT NULL,
    updated_at INTEGER NOT NULL,
    FOREIGN KEY (entity_id) REFERENCES auto_entities(id) ON DELETE CASCADE
);

-- ç´¢å¼•ä¼˜åŒ–
CREATE INDEX idx_entities_type ON entities(type);
CREATE INDEX idx_entities_file_path ON entities(file_path);
CREATE INDEX idx_entities_name ON entities(name);
CREATE INDEX idx_auto_entities_type ON auto_entities(type);
CREATE INDEX idx_auto_entities_file_path ON auto_entities(file_path);
CREATE INDEX idx_auto_entities_name ON auto_entities(name);
CREATE INDEX idx_auto_relations_source ON auto_relations(source_entity_id);
CREATE INDEX idx_auto_relations_target ON auto_relations(target_entity_id);
CREATE INDEX idx_auto_observations_entity ON auto_observations(entity_id);
```

---

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16.x
- VS Code >= 1.80.0
- TypeScript >= 4.9.0

### å¼€å‘å‘½ä»¤

```bash
# å®‰è£…ä¾èµ–
npm install

# ç¼–è¯‘
npm run compile

# ç›‘å¬æ¨¡å¼ï¼ˆå¼€å‘æ—¶ä½¿ç”¨ï¼‰
npm run watch

# è¿è¡Œæµ‹è¯•
npm test

# æ‰“åŒ…æ’ä»¶
npm run package

# ä»£ç æ£€æŸ¥
npm run lint
```

### è°ƒè¯•

1. åœ¨ VS Code ä¸­æ‰“å¼€é¡¹ç›®
2. æŒ‰ `F5` å¯åŠ¨è°ƒè¯•
3. ä¼šæ‰“å¼€ä¸€ä¸ªæ–°çš„ VS Code çª—å£ï¼ˆExtension Development Hostï¼‰
4. åœ¨æ–°çª—å£ä¸­æµ‹è¯•æ’ä»¶åŠŸèƒ½

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript strict æ¨¡å¼
- ä½¿ç”¨ async/await è€Œé callback
- é”™è¯¯å¤„ç†ä½¿ç”¨ try/catch
- å‘½åè§„èŒƒï¼š
  - æ–‡ä»¶åï¼šcamelCase.ts
  - ç±»åï¼šPascalCase
  - å‡½æ•°/å˜é‡ï¼šcamelCase
  - å¸¸é‡ï¼šUPPER_SNAKE_CASE

---

## ğŸ“– æ¼”ç¤ºæ–‡æ¡£

è¯¦ç»†çš„æ¼”ç¤ºæŒ‡å—å’Œä½¿ç”¨åœºæ™¯ï¼Œè¯·æŸ¥çœ‹ï¼š

- **[Demo.md](./Demo.md)** - å®Œæ•´æ¼”ç¤ºæŒ‡å—
  - åŸºäº NestJS RealWorld Example App çš„æ¼”ç¤º
  - åŒ…å« 5 ä¸ªå®é™…ä½¿ç”¨åœºæ™¯
  - ä»åŸºç¡€åŠŸèƒ½åˆ° AI ååŒçš„å®Œæ•´æ¼”ç¤ºè„šæœ¬
  - æŒä¹…çŸ¥è¯†åº“å’Œéœ€æ±‚æ–‡æ¡£è½¬æ¢æ¼”ç¤º

---

## ğŸ“š å‚è€ƒèµ„æ–™

### å®˜æ–¹æ–‡æ¡£
- [VS Code Extension API](https://code.visualstudio.com/api)
- [sql.js æ–‡æ¡£](https://sql.js.org/)
- [vis-network æ–‡æ¡£](https://visjs.github.io/vis-network/)
- [TypeScript Compiler API](https://github.com/Microsoft/TypeScript/wiki/Using-the-Compiler-API)
- [Google File Search Tool](https://ai.google.dev/gemini-api/docs/file-search)